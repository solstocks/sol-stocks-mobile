{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _invariant=_interopRequireDefault(require(\"fbjs/lib/invariant\"));var _TaskQueue=_interopRequireDefault(require(\"./TaskQueue\"));var _EventEmitter=_interopRequireDefault(require(\"../../vendor/react-native/vendor/emitter/EventEmitter\"));var _requestIdleCallback=_interopRequireDefault(require(\"../../modules/requestIdleCallback\"));var _emitter=new _EventEmitter.default();var InteractionManager={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions(task){var tasks=[];var promise=new Promise(function(resolve){_scheduleUpdate();if(task){tasks.push(task);}tasks.push({run:resolve,name:'resolve '+(task&&task.name||'?')});_taskQueue.enqueueTasks(tasks);});return{then:promise.then.bind(promise),done:promise.then.bind(promise),cancel:function(){_taskQueue.cancelTasks(tasks);}};},createInteractionHandle(){_scheduleUpdate();var handle=++_inc;_addInteractionSet.add(handle);return handle;},clearInteractionHandle(handle){(0,_invariant.default)(!!handle,'Must provide a handle to clear.');_scheduleUpdate();_addInteractionSet.delete(handle);_deleteInteractionSet.add(handle);},addListener:_emitter.addListener.bind(_emitter),setDeadline(deadline){_deadline=deadline;}};var _interactionSet=new Set();var _addInteractionSet=new Set();var _deleteInteractionSet=new Set();var _taskQueue=new _TaskQueue.default({onMoreTasks:_scheduleUpdate});var _nextUpdateHandle=0;var _inc=0;var _deadline=-1;function _scheduleUpdate(){if(!_nextUpdateHandle){if(_deadline>0){_nextUpdateHandle=setTimeout(_processUpdate);}else{_nextUpdateHandle=(0,_requestIdleCallback.default)(_processUpdate);}}}function _processUpdate(){_nextUpdateHandle=0;var interactionCount=_interactionSet.size;_addInteractionSet.forEach(function(handle){return _interactionSet.add(handle);});_deleteInteractionSet.forEach(function(handle){return _interactionSet.delete(handle);});var nextInteractionCount=_interactionSet.size;if(interactionCount!==0&&nextInteractionCount===0){_emitter.emit(InteractionManager.Events.interactionComplete);}else if(interactionCount===0&&nextInteractionCount!==0){_emitter.emit(InteractionManager.Events.interactionStart);}if(nextInteractionCount===0){var begin=Date.now();while(_taskQueue.hasTasksToProcess()){_taskQueue.processNext();if(_deadline>0&&Date.now()-begin>=_deadline){_scheduleUpdate();break;}}}_addInteractionSet.clear();_deleteInteractionSet.clear();}var _default=exports.default=InteractionManager;","map":{"version":3,"names":["_invariant","_interopRequireDefault","require","_TaskQueue","_EventEmitter","_requestIdleCallback","_emitter","EventEmitter","InteractionManager","Events","interactionStart","interactionComplete","runAfterInteractions","task","tasks","promise","Promise","resolve","_scheduleUpdate","push","run","name","_taskQueue","enqueueTasks","then","bind","done","cancel","cancelTasks","createInteractionHandle","handle","_inc","_addInteractionSet","add","clearInteractionHandle","invariant","delete","_deleteInteractionSet","addListener","setDeadline","deadline","_deadline","_interactionSet","Set","TaskQueue","onMoreTasks","_nextUpdateHandle","setTimeout","_processUpdate","requestIdleCallback","interactionCount","size","forEach","nextInteractionCount","emit","begin","Date","now","hasTasksToProcess","processNext","clear","_default","exports","default"],"sources":["/Users/sarahfitzgerald/SolStocksMobile/node_modules/react-native-web/dist/exports/InteractionManager/index.js"],"sourcesContent":["/**\n * Copyright (c) Nicolas Gallagher.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nimport invariant from 'fbjs/lib/invariant';\nimport TaskQueue from './TaskQueue';\nimport EventEmitter from '../../vendor/react-native/vendor/emitter/EventEmitter';\nimport requestIdleCallback from '../../modules/requestIdleCallback';\nvar _emitter = new EventEmitter();\nvar InteractionManager = {\n  Events: {\n    interactionStart: 'interactionStart',\n    interactionComplete: 'interactionComplete'\n  },\n  /**\n   * Schedule a function to run after all interactions have completed.\n   */\n  runAfterInteractions(task) {\n    var tasks = [];\n    var promise = new Promise(resolve => {\n      _scheduleUpdate();\n      if (task) {\n        tasks.push(task);\n      }\n      tasks.push({\n        run: resolve,\n        name: 'resolve ' + (task && task.name || '?')\n      });\n      _taskQueue.enqueueTasks(tasks);\n    });\n    return {\n      then: promise.then.bind(promise),\n      done: promise.then.bind(promise),\n      cancel: () => {\n        _taskQueue.cancelTasks(tasks);\n      }\n    };\n  },\n  /**\n   * Notify manager that an interaction has started.\n   */\n  createInteractionHandle() {\n    _scheduleUpdate();\n    var handle = ++_inc;\n    _addInteractionSet.add(handle);\n    return handle;\n  },\n  /**\n   * Notify manager that an interaction has completed.\n   */\n  clearInteractionHandle(handle) {\n    invariant(!!handle, 'Must provide a handle to clear.');\n    _scheduleUpdate();\n    _addInteractionSet.delete(handle);\n    _deleteInteractionSet.add(handle);\n  },\n  addListener: _emitter.addListener.bind(_emitter),\n  /**\n   *\n   * @param deadline\n   */\n  setDeadline(deadline) {\n    _deadline = deadline;\n  }\n};\nvar _interactionSet = new Set();\nvar _addInteractionSet = new Set();\nvar _deleteInteractionSet = new Set();\nvar _taskQueue = new TaskQueue({\n  onMoreTasks: _scheduleUpdate\n});\nvar _nextUpdateHandle = 0;\nvar _inc = 0;\nvar _deadline = -1;\n\n/**\n * Schedule an asynchronous update to the interaction state.\n */\nfunction _scheduleUpdate() {\n  if (!_nextUpdateHandle) {\n    if (_deadline > 0) {\n      _nextUpdateHandle = setTimeout(_processUpdate);\n    } else {\n      _nextUpdateHandle = requestIdleCallback(_processUpdate);\n    }\n  }\n}\n\n/**\n * Notify listeners, process queue, etc\n */\nfunction _processUpdate() {\n  _nextUpdateHandle = 0;\n  var interactionCount = _interactionSet.size;\n  _addInteractionSet.forEach(handle => _interactionSet.add(handle));\n  _deleteInteractionSet.forEach(handle => _interactionSet.delete(handle));\n  var nextInteractionCount = _interactionSet.size;\n  if (interactionCount !== 0 && nextInteractionCount === 0) {\n    _emitter.emit(InteractionManager.Events.interactionComplete);\n  } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n    _emitter.emit(InteractionManager.Events.interactionStart);\n  }\n  if (nextInteractionCount === 0) {\n    // It seems that we can't know the running time of the current event loop,\n    // we can only calculate the running time of the current task queue.\n    var begin = Date.now();\n    while (_taskQueue.hasTasksToProcess()) {\n      _taskQueue.processNext();\n      if (_deadline > 0 && Date.now() - begin >= _deadline) {\n        _scheduleUpdate();\n        break;\n      }\n    }\n  }\n  _addInteractionSet.clear();\n  _deleteInteractionSet.clear();\n}\nexport default InteractionManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}