{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=useEvent;var _addEventListener=require(\"../addEventListener\");var _useLayoutEffect=_interopRequireDefault(require(\"../useLayoutEffect\"));var _useStable=_interopRequireDefault(require(\"../useStable\"));function useEvent(eventType,options){var targetListeners=(0,_useStable.default)(function(){return new Map();});var addListener=(0,_useStable.default)(function(){return function(target,callback){var removeTargetListener=targetListeners.get(target);if(removeTargetListener!=null){removeTargetListener();}if(callback==null){targetListeners.delete(target);callback=function(){};}var removeEventListener=(0,_addEventListener.addEventListener)(target,eventType,callback,options);targetListeners.set(target,removeEventListener);return removeEventListener;};});(0,_useLayoutEffect.default)(function(){return function(){targetListeners.forEach(function(removeListener){removeListener();});targetListeners.clear();};},[targetListeners]);return addListener;}","map":{"version":3,"names":["_addEventListener","require","_useLayoutEffect","_interopRequireDefault","_useStable","useEvent","eventType","options","targetListeners","useStable","Map","addListener","target","callback","removeTargetListener","get","delete","removeEventListener","addEventListener","set","useLayoutEffect","forEach","removeListener","clear"],"sources":["/Users/sarahfitzgerald/SolStocksMobile/node_modules/react-native-web/dist/modules/useEvent/index.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nimport { addEventListener } from '../addEventListener';\nimport useLayoutEffect from '../useLayoutEffect';\nimport useStable from '../useStable';\n/**\n * This can be used with any event type include custom events.\n *\n * const click = useEvent('click', options);\n * useEffect(() => {\n *   click.setListener(target, onClick);\n *   return () => click.clear();\n * }).\n */\nexport default function useEvent(eventType, options) {\n  var targetListeners = useStable(() => new Map());\n  var addListener = useStable(() => {\n    return (target, callback) => {\n      var removeTargetListener = targetListeners.get(target);\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n      if (callback == null) {\n        targetListeners.delete(target);\n        callback = () => {};\n      }\n      var removeEventListener = addEventListener(target, eventType, callback, options);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  useLayoutEffect(() => {\n    return () => {\n      targetListeners.forEach(removeListener => {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, [targetListeners]);\n  return addListener;\n}"],"mappings":"qKASA,IAAAA,iBAAA,CAAAC,OAAA,wBACA,IAAAC,gBAAA,CAAAC,sBAAA,CAAAF,OAAA,wBACA,IAAAG,UAAA,CAAAD,sBAAA,CAAAF,OAAA,kBAUe,QAAS,CAAAI,QAAQA,CAACC,SAAS,CAAEC,OAAO,CAAE,CACnD,GAAI,CAAAC,eAAe,CAAG,GAAAC,kBAAS,EAAC,iBAAM,IAAI,CAAAC,GAAG,CAAC,CAAC,GAAC,CAChD,GAAI,CAAAC,WAAW,CAAG,GAAAF,kBAAS,EAAC,UAAM,CAChC,MAAO,UAACG,MAAM,CAAEC,QAAQ,CAAK,CAC3B,GAAI,CAAAC,oBAAoB,CAAGN,eAAe,CAACO,GAAG,CAACH,MAAM,CAAC,CACtD,GAAIE,oBAAoB,EAAI,IAAI,CAAE,CAChCA,oBAAoB,CAAC,CAAC,CACxB,CACA,GAAID,QAAQ,EAAI,IAAI,CAAE,CACpBL,eAAe,CAACQ,MAAM,CAACJ,MAAM,CAAC,CAC9BC,QAAQ,CAAG,QAAAA,CAAA,CAAM,CAAC,CAAC,CACrB,CACA,GAAI,CAAAI,mBAAmB,CAAG,GAAAC,kCAAgB,EAACN,MAAM,CAAEN,SAAS,CAAEO,QAAQ,CAAEN,OAAO,CAAC,CAChFC,eAAe,CAACW,GAAG,CAACP,MAAM,CAAEK,mBAAmB,CAAC,CAChD,MAAO,CAAAA,mBAAmB,CAC5B,CAAC,CACH,CAAC,CAAC,CACF,GAAAG,wBAAe,EAAC,UAAM,CACpB,MAAO,WAAM,CACXZ,eAAe,CAACa,OAAO,CAAC,SAAAC,cAAc,CAAI,CACxCA,cAAc,CAAC,CAAC,CAClB,CAAC,CAAC,CACFd,eAAe,CAACe,KAAK,CAAC,CAAC,CACzB,CAAC,CACH,CAAC,CAAE,CAACf,eAAe,CAAC,CAAC,CACrB,MAAO,CAAAG,WAAW,CACpB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}